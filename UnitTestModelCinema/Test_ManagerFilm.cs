using Microsoft.VisualStudio.TestTools.UnitTesting;
using ModelCinema.Models;
using ModelCinema.Models.DataManager;
using System.Collections.Generic;

namespace UnitTestWebCinema
{
    [TestClass]
    public class Test_ManagerFilm
    {
        ManagerFilm manager;
        List<film> originalList;

        [TestInitialize]
        public void Initialize()
        {
            manager = new ManagerFilm();

            originalList = manager.GetAllFilms();
        }

        //TO-DO
        [TestCleanup]
        public void Cleanup()
        {
        }

        [TestMethod]
        public void Test_PostFilm_valideFIlm_isAdded()
        {
            //Arrange
            film postedValideFilm = new film("unitTestFilm", "film fait lors du test unitaire", 2010, 90, 5.5, 123);
            int
                filmsOriginalCount = originalList.Count,
                filmsnewCount,
                countDifference;

            //Act
            bool testResult = manager.PostFilm(postedValideFilm);
            filmsnewCount = manager.GetAllFilms().Count;
            countDifference = filmsnewCount - filmsOriginalCount;

            //Assert
            Assert.IsTrue(testResult, "la fonction PostFilm a renvoyer 'False'");
            Assert.IsTrue(countDifference == 1, "la difference entre la nouvelle liste et l'ancienne n'est 1");

        }

        //TO-DO
        [TestMethod]
        public void Test_PostFilm_invalideFilm_isNotAdded()
        {
        }

        //TO-DO
        [TestMethod]
        public void Test_PutFilm_valideFilm_isChanged()
        {
        }

        //TO-DO
        [TestMethod]
        public void Test_PutFilm_invalideFilm_isNotChanged()
        {
        }

        //TO-DO
        [TestMethod]
        public void Test_DeleteFilm_valideFilm_isDeleted()
        {
        }

        //TO-DO
        [TestMethod]
        public void Test_DeleteFilm_invalideFilm_isNotDeleted()
        {
        }
    }
}
